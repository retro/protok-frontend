mutation RequestLoginCode($email: String!) {
  requestLoginCode(email: $email)
}

mutation LoginWithCode($email: String!, $code: String!) {
  loginWithCode(email: $email, code: $code) {
    account {
      ...accountData
    }
    token
  }
}

query CurrentAccount {
  currentAccount {
    ...accountData
  }
}

fragment accountData on Account {
  id
  username
  email
}


query OrganizationMemberships {
  currentAccount {
    organizationMemberships {
      memberRole
      organization {
        id
        name
      }
    }
  }
}

mutation CreateOrganization($organization: CreateOrganizationInput!) {
  createOrganization(organization:$organization) {
   ...organizationMutationData
  }
}

mutation UpdateOrganization($organization: UpdateOrganizationInput!) {
  updateOrganization(organization:$organization) {
    ...organizationMutationData
  }
}

fragment organizationMutationData on Organization {
  id
  name
  membership {
    memberRole
  }
}
